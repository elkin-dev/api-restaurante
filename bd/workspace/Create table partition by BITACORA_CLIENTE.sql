-- Create table partition by BITACORA_CLIENTE

CREATE TABLE BITACORA_CLIENTE (
    PK_ID_BITACORA_CLIENTE SERIAL,
    ID_CLIENTE INTEGER,
    FEC_FECHA DATE
) PARTITION BY RANGE (FEC_FECHA);



INSERT INTO PUBLIC.BITACORA_CLIENTE(
	PK_ID_BITACORA_CLIENTE, ID_CLIENTE, FEC_FECHA)
	VALUES (1, 1, '2022-01-02');

SELECT * FROM BITACORA_CLIENTE;


-- Create first partition
-- January 2024
CREATE TABLE BITACORA_CLIENTE20240101 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-01-01') TO ('2024-01-31');

-- February 2024
CREATE TABLE BITACORA_CLIENTE20240201 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-02-01') TO ('2024-02-29');

-- March 2024
CREATE TABLE BITACORA_CLIENTE20240301 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-03-01') TO ('2024-03-31');

-- April 2024
CREATE TABLE BITACORA_CLIENTE20240401 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-04-01') TO ('2024-04-30');

-- May 2024
CREATE TABLE BITACORA_CLIENTE20240501 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-05-01') TO ('2024-05-31');

-- June 2024
CREATE TABLE BITACORA_CLIENTE20240601 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-06-01') TO ('2024-06-30');

-- July 2024
CREATE TABLE BITACORA_CLIENTE20240701 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-07-01') TO ('2024-07-31');

-- August 2024
CREATE TABLE BITACORA_CLIENTE20240801 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-08-01') TO ('2024-08-31');

-- September 2024
CREATE TABLE BITACORA_CLIENTE20240901 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-09-01') TO ('2024-09-30');

-- October 2024
CREATE TABLE BITACORA_CLIENTE20241001 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-10-01') TO ('2024-10-31');

-- November 2024
CREATE TABLE BITACORA_CLIENTE20241101 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-11-01') TO ('2024-11-30');

-- December 2024
CREATE TABLE BITACORA_CLIENTE20241201 PARTITION OF BITACORA_CLIENTE
FOR VALUES FROM ('2024-12-01') TO ('2024-12-31');